<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
   <div class="NAVEEN">

       <form action="." method="post" enctype="multipart/form-data">
           {% csrf_token %}
           {{form.as_p}}

           <input type="url" id="output2" name="thumbIMG" style="display:none;">

           <button type="submit" id="capture">UPLOAD VIDEO</button>

       </form>

       <h2> <a href="/upload/videos/"> GO TO GALLERY</a> </h2>
   </div>


    <div>
          <video id="video2" controls="controls" src=""></video>

      </div>


<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
 <script>
       $(document).ready(function(){
            $('#video').change(function(){
               call();
            });
        });
         var video;
         var scale =1;

        function call()
        {
           var file_Selected=document.getElementById('video');
           file_Selected_file=file_Selected.files[0];
            var fileUrl = window.URL.createObjectURL(file_Selected_file);
            var obj=document.getElementById('video2');
            obj.src=fileUrl;

        }
          var initialize = function() {

        $("#capture").click(captureImage);
         };


         var captureImage = function() {


        video  = $('#video2').get(0);
        var canvas = document.createElement("canvas");
        canvas.width = video.videoWidth * scale;
        canvas.height = video.videoHeight * scale;

        canvas.getContext('2d')
              .drawImage(video, 0, 0, canvas.width, canvas.height);
        var out=document.getElementById('output2')
        out.value= canvas.toDataURL();

    };
    initialize();


</script>


</body>
</html>