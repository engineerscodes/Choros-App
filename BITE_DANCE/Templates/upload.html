{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BITE-DANCE UPLOAD</title>
    <link rel="stylesheet" href="{% static 'css/uploadcss.css' %}">
</head>
<body>
    <div class="Header">
        <div>
           <h1><a href="/" style="text-decoration: none; color: white; padding: 10px;">BITE DANCE</a></h1>
        </div>
        <div class="right">
            <div><a href="/upload/"> UPLOAD VIDEO</a></div>
            <div><a href="/bitdance/moderator/"> MODERATION DETAILS</a> </div>
            <div><a href="/bitdance/GodMode/">GOD MODE</a></div>
            <div><a href="/account/logout/"> LOG OUT </a> </div>
        </div>
    </div>
     <div class="preview">
         <div>
             <h2>VIDEO PREVIEW </h2>
         </div>
         <video id="video2" controls="controls" src="" style="display: block ; visibility: hidden;">
        </video>

     </div>

   <div class="NAVEEN">

       <form  method="post" enctype="multipart/form-data">
           {% csrf_token %}
           {{form.as_p}}

           <input type="url" id="output2" name="thumbIMG" style="display:none;">

           <button type="submit" id="capture">UPLOAD VIDEO</button>

       </form>

   </div>

   

   


<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
 <script>
       $(document).ready(function(){
            $('#video').change(function(){
               call();
            });
        });
         var video;
         var scale =1;

        function call()
        {
           var file_Selected=document.getElementById('video');
           file_Selected_file=file_Selected.files[0];
            var fileUrl = window.URL.createObjectURL(file_Selected_file);
            var obj=document.getElementById('video2');
            obj.style.visibility="visible";
            obj.src=fileUrl;

        }
          var initialize = function() {

        $("#capture").click(captureImage);
         };


         var captureImage = function() {


        video  = $('#video2').get(0);
        var canvas = document.createElement("canvas");
        canvas.width = video.videoWidth * scale;
        canvas.height = video.videoHeight * scale;

        canvas.getContext('2d')
              .drawImage(video, 0, 0, canvas.width, canvas.height);
        var out=document.getElementById('output2')
        out.value= canvas.toDataURL();

    };
    initialize();


</script>


</body>
</html>